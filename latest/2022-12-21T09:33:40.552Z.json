[{"creator":"鉴叔","title":"前沿 | 区块链热点项目技术复盘-03期","link":"https://medium.com/@jianshubiji/%E5%89%8D%E6%B2%BF-%E5%8C%BA%E5%9D%97%E9%93%BE%E7%83%AD%E7%82%B9%E9%A1%B9%E7%9B%AE%E6%8A%80%E6%9C%AF%E5%A4%8D%E7%9B%98-03%E6%9C%9F-600b7ed0af66?source=rss-bed923b52d0b------2","pubDate":"Wed, 21 Dec 2022 09:05:33 GMT","content:encoded":"<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/0*alpo1Dc_m-j3muFJ\" /></figure><p>【摘要】技术角度复盘Chainlink Staking完成代笔社区配额、BNB Chain L2方案Zecrey Legend测试网、Polygon Pos链完成「Parallel EVM」升级、Web3开发者平台Fleek完成2500万美元A轮融资、Plonky2高效递归证明系统。</p><p>本期我们将会回顾：</p><p>Ⅰ. Chainlink Staking v0.1已完成2250万枚LINK社区配额上限</p><p>Ⅱ. BNB Chain L2方案Zecrey Legend第一阶段公开测试网上线</p><p>Ⅲ. Polygon Pos链完成「Parallel EVM」升级，可将速度提高一倍</p><p>Ⅳ. Web3开发者平台Fleek完成2500万美元A轮融资</p><p>Ⅴ. Plonky2高效递归证明系统</p><h3>Ⅰ. Chainlink Staking v0.1已完成2250万枚LINK社区配额上限</h3><p>美国东部时间2022 年 12 月 6 日中午 12 点：Chainlink Staking (v0.1)测试版于在以太坊主网上线。美国东部时间2022 年 12 月 8 日中午 12 点：有上限的 v0.1 质押池向一般访问者开放。12 月 9 日，据官方消息，Chainlink 质押协议 v0.1 已达到 2250 万枚 LINK 社区配额上限。</p><h4>Chainlink Staking简介</h4><p>Staking是Chainlink Economics 2.0的核心，旨在为 Chainlink 带来新的加密经济安全层，其中应用加密奖励和惩罚以帮助进一步激励网络的正常运行。Chainlink 质押的首要任务是让生态系统参与者（包括节点运营商和社区成员）能够通过质押的 LINK 代币支持他们来提高预言机服务的安全保障和用户保证。LINK 的质押反过来增强了节点在 Chainlink 网络中接收工作并赚取相应费用的能力。</p><p>Staking 是为 DON (Decentralized Oracle Network)创建一个强大的加密经济安全模型，以最大限度地提高攻击成本，降低攻击风险。这对于扩展 DON 的安全性至关重要，因为它们越来越多地参与保护影响用户资金的高价值智能合约中的关键功能。为了实现更高水平的防篡改，Chainlink提出了Explicit Staking — — 一种正在开发中的高级加密经济系统，其中 Chainlink 节点将 LINK 代币锁定为抵押品，可以因恶意和不良行为而被削减。</p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/0*Pi9MJa317buuKmiA\" /></figure><h4>Staking v0.1合约代码分析</h4><p><strong>ERC677协议</strong></p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1000/0*KgJYcesNShHgQIEc\" /></figure><p><strong>核心接口质押</strong></p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/996/0*n1ty1FmB-ifjMb0H\" /></figure><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/995/1*LEsSm6HezBxDdt4Rv2gXew.png\" /></figure><p><strong>核心接口解除质押</strong></p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/992/0*qfnP6dJ185XEKoar\" /></figure><h4>链上质押与预言机质押的差异</h4><p>在去中心化的预言机网络中质押旨在实现与在区块链中质押完全不同的目标。区块链中的交易验证是内部一致性的属性，而区块链上预言机报告的正确性是外部属性，即链下数据。</p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1015/0*ehMmQlw4Z33Aa95d\" /></figure><h4>Chainlink 2.0的核心设计</h4><p><strong>DON（Decentralized Oracle Network）</strong></p><p>DON(Decentralized Oracle Network)是Chainlink Economics 2.0的核心，DON由Oracle节点组成的委员会组成，这些节点合作完成特定工作或选择建立长期关系，以便为客户提供持久服务。Dons是以区块链不可知的方式设计的。它们承诺为应用程序开发人员提供强大而灵活的工具，以便在任何受支持的主链上为其智能合约创建链外支持。</p><p>两种类型的功能实现了DON的功能：可执行文件和适配器。可执行文件是在DON上以分散的方式连续运行的程序。虽然它们不直接存储主链资产，但它们具有重要的优势，包括高性能和执行机密计算的能力。可执行文件在DON上自主运行并执行确定性操作。它们与将DON链接到外部资源的适配器一起工作，并且可以由可执行文件调用。正如我们为Dons设想的那样，适配器是当今ChainLink中外部适配器的泛化。虽然现有适配器通常仅从数据源获取数据，但是适配器可以双向操作；在DON中，它们可以另外利用DON节点的联合计算来实现附加特征，例如加密报告以供可执行文件进行隐私保护消费。</p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1013/0*niPmf-Mb8TchG0yV\" /></figure><p>DON是由ChainLink节点委员会维护的网络。它支持委员会为部署而选择的任意范围的Oracle功能。因此，DON作为一个强大的抽象层，为智能合约提供接口，以获得广泛的链外资源和DON内部高效而分散的链外计算资源。以Dons为基础，Economics 2.0 提出一些优秀的设计，下面重点介绍混合智能合约与DON事务执行框架。</p><p><strong>混合智能合约</strong></p><p>混合智能合约，提供一个强大的通用框架，通过将链上和链下计算资源安全地组合到我们所称的混合智能合约中，增强现有的智能合约功能。</p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1016/0*vu3kK-2PKtQp3NVG\" /></figure><p><strong>DON事务执行框架（DON-TEF）</strong></p><p>TEF( Transaction-Execution Framework)是一种用于构建和执行高性能混合智能合约SC的设计模式。根据混合智能合约背后的主要思想，TEF涉及将SC分解为两部分：（1）在TEF上下文中称为主链上的锚合约SCa，以及（2）称为TEF可执行文件的Don Logic Exect。在这里使用SC来表示由SCa和EXECt的组合实现的逻辑契约。（如上所述，希望开发编译器工具来将合同SC自动分解为这些组件。）</p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1012/1*nGRMSQevRYNWINtc9EI0ww.png\" /></figure><blockquote><em>参考链接：</em><a href=\"https://chain.link/whitepaper\"><em>https://chain.link/whitepaper</em></a></blockquote><h3>Ⅱ. BNB Chain L2方案Zecrey Legend第一阶段公开测试网上线</h3><p>北京时间 12 月 3 日 21:00 ，基于 BNB Chain 的二层扩容方案 Zecrey Legend 上线公开测试网。该测试网包含多个阶段，目前已上线的第一阶段产品为 Android 应用，包括了多链资产管理，以及基于 ZK Rollup 的 Layer 2 NFT 市场等功能。</p><h4>Zecrey 简介</h4><p>Zecrey 是一种基于 zk-Rollup 的第 2 层协议，具有隐私性和可扩展性。从产品的角度来看，Zecrey 提供了一个包含 L1s 和 Zecrey 原生 L2s 的用户友好型钱包。我们的钱包中嵌入了两种不同类型的第 2 层系统，即<strong>Zecrey Zero</strong>和<strong>Zecrey Legend </strong>。<strong>Zecrey Zero</strong>主要关注隐私功能，<strong>Zecrey Legend </strong>主要关注 NFT 发行和 NFT 市场。</p><p><strong>Zecrey Zero</strong></p><p>Zecrey Zero是一种轻量级、隐私驱动的便携式支付解决方案，它为用户提供了一个简单直观的界面，使用户能够轻松进行私人转账和掉期交易。对于Zecrey Zero，用户启用隐私功能，用户可以在其中进行私人转账和私人交换交易，交易的金额会被隐藏，只有用户自己知道。</p><p><strong>Zecrey Legend</strong></p><p>Zecrey Legend 是第一个基于 BNB 链和 Web3 游戏 NFT 引擎的 zkRollup L2 扩容方案。它为铸造和交易 NFT 提供即时交易、巨大的可扩展性和低 gas 费用，而不会影响安全性。Zecrey Legend，它可以被视为 Layer 2 上的 NFT 市场，这是 BNB 链上第一个基于 zkRollup 的 Layer 2 解决方案。</p><h4>Zecrey 架构</h4><p>Zecrey 提供自下而上的完整定制架构。该架构的底层将是基于 zkRollup 的基础设施层。而上层会有SDK/API提供相关的开发组件。顶层将由各种应用程序组成，包括支付和 NFT 市场产品。而最外层会提供面向C端用户的产品，以及插件和手机版的多链钱包。</p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1003/0*2MMsGQy_dXmoKvyr\" /></figure><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/996/0*p053xlXY-ORP8T2B\" /></figure><blockquote><em>参考链接：</em><a href=\"https://docsend.com/view/ntcsmt7meu84gcqk\"><em>https://docsend.com/view/ntcsmt7meu84gcqk</em></a></blockquote><h3>Ⅲ. Polygon Pos链完成「Parallel EVM」升级，可将速度提高一倍</h3><p>12 月 6 日，Polygon 团队近期发文表示，Polygon Pos 链完成「并行 EVM」（Parallel EVM）升级，将使 Polygon PoS 链的速度提高一倍，该升级受到 Aptos Labs 开发 Block-STM 引擎的启发，用 Go 语言为 Polygon PoS 链的 EVM 部署并行引擎。升级后 Polygon PoS 链能够同时处理多项交易，可提高其吞吐量，扩展交易处理速度。</p><h4>Block-STM引擎简介</h4><p><strong>Block-STM解决的问题</strong>：区块链的交易之间存在依赖关系导致无法并发执行，并且在交易执行前无法快速判断依赖关系，因为与合约交互的交易存在复杂的交互逻辑（例如：合约A的某个方法调用了合约B的方法，对账户C进行了特定操作）。</p><p><strong>Block-STM的核心思路:</strong>是检测存储访问以检测和管理冲突。具有乐观并发控制的 STM 库在执行期间记录内存访问，验证每个事务执行后并在验证出现冲突时中止并重新执行事务。</p><p><strong>Block-STM的流程示例：</strong></p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1015/0*4WbgpIb4IQ8SmIRq\" /></figure><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1012/0*lEHd4A6qtV59Vb4n\" /></figure><p><strong>Block-STM 核心技术点</strong></p><ul><li><strong>乐观的并发控制</strong>：事务以乐观的方式并行执行，并在执行后进行验证。不成功的验证会导致重新执行。由于预设的顺序，验证不是相互独立的，并且必须在逻辑上按顺序发生。与之前的工作不同，成功的验证并不意味着可以提交事务。相反，交易验证失败意味着所有更高级别的交易只有在之后成功验证后才能提交。</li><li><strong>多版本数据结构</strong>： Block-STM使用多版本数据结构来避免写入冲突。所有对同一位置的写入都与它们的版本一起存储，其中包含它们的事务 ID 和写入事务被乐观地重新执行的次数。当事务<em>tx</em>读取内存位置时，它从多版本数据结构中获取按照预设顺序出现在<em>tx</em>之前的最高事务写入该位置的值，以及关联的版本。</li><li><strong>验证</strong>：在执行期间，事务记录一个<em>读集</em>和一个<em>写集</em>。在验证期间，读取集中的所有内存位置都被读取，并将返回的version与存储在读取集中的相应version进行比较。</li><li><strong>合作日程</strong>：Block-STM 引入了协作调度程序来协调线程之间的验证和执行任务。由于预设顺序规定事务必须按顺序提交，事务执行的成功验证并不能保证它可以提交。这是因为块中早期事务的中止和重新执行可能会使读取集无效并需要重新执行。因此，事务和执行线程之间的静态映射不起作用。相反，协作调度程序优先处理较低事务的执行和验证任务。然而，众所周知，有序集和优先级队列在多核环境中难以扩展。Block-STM 使用基于计数的方法回避了这个问题，</li><li><strong>动态依赖估计</strong>： Block-STM 利用预设顺序来显着避免中止，这是 STM 系统性能游戏的名称，因为中止会级联并导致过多的工作浪费。当验证失败时，事务最后一次执行的写入集用于通过将其在多版本数据结构中的所有写入标记为估计来估计依赖关系。当另一个事务从多值数据结构中读取一个 ESTIMATION 值时，它可以等待解决依赖关系 — — 如果没有估计，它会继续但很可能（如果写入 ESTIMATION 的事务确实写入相同的下一次重新执行中的位置）稍后验证失败并被中止</li></ul><h4>Parallel EVM与Block-STM的差异</h4><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/0*89mxZu3QX1ZulWur\" /></figure><blockquote><em>参考链接：</em><a href=\"https://arxiv.org/pdf/2203.06871.pdf\"><em>https://arxiv.org/pdf/2203.06871.pdf</em></a></blockquote><h3>Ⅳ. Web3开发者平台Fleek完成2500万美元A轮融资</h3><p>12 月 1 日，Web3 开发者平台 Fleek 完成 2500 万美元 A 轮融资，Polychain Capital 领投，Coinbase Ventures、Digital Currency Group、Protocol Labs、Arweave、North Island Ventures、Distributed Global、The LAO 和 Argonautic Ventures 等参投。Fleek 的目标是建立一个接口和协议层，使任何人都可以访问 Web3 服务的基础层，并调用如存储、托管和计费等功能。Fleek 目前在其平台上托管了大约 50000 个应用程序，主要集中在以太坊生态。</p><h4>Fleek 的 IC网关</h4><p>IPFS作为去中心化存储网络，存在一些缺点：访问速度慢，节点不稳当、访问操作复杂 ，Fleek的IC网关提供了一种比本地解决方案更快、更高效的方式来访问浏览器上 IPFS 上的内容；就互联网计算机而言，它是DFINITY 基金会主要互联网计算机网关的开源替代方案，任何人都可以利用。</p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1019/0*BZhC-9hTEZjrml8o\" /></figure><h4>Fleek NetWork白皮书浅析</h4><p>CDN因其提供内容的低延迟和高传输速度而备受欢迎。传统方法通常涉及基于基础架构的交付，其中用户从第三方服务器请求其内容。这些CDN传统上是许可的、基于信任的，并受到可以审查或限制内容的主导方的控制。这与使Web 3应用程序去中心化和端到端不兼容，Web 3应用程序依赖Web 2基础设施向Web 3.0用户提供服务。鉴于去中心化存储已成为现实，我们认为去中心化内容交付网络是缺失的基础设施链接，也是将所有必要组件连接在一起以实现完全去中心化Web 3.0应用程序目标的一层。本文给出了Fleek网络的技术展望，Fleek网络是一种用于Web3.0的P2P内容分发模型。它们使用经过验证的区块链基础设施和P2P协议构建，并针对内容交付进行了专门的增强。</p><p><strong>传统CDN与Fleek NetWork网络top对比</strong></p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1014/0*pyE57vuTrwJpEfia\" /></figure><p><strong>网络综述</strong></p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1015/0*p27pA_EvrmbS7IWC\" /></figure><p><strong>缓存节点</strong></p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1016/0*DozUAoK-2gG9uhnE\" /></figure><p><strong>网关节点</strong></p><p>虽然Fleek网络具有用于缓存、索引和复制的主节点。Fleek实现了一个传统网关将域映射到Fleek网络上的特定内容哈希。网关节点是为了最终用户可以指向他们的域，执行Web 服务器的基本功能，并充当外部客户端（如浏览器和移动应用程序）和网络之间的通信点。</p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1018/0*T4fryMA9-dhklOwp\" /></figure><p><strong>网络的共识</strong></p><p>Fleek使用基础共识引擎对交易进行排序。在构建具有高吞吐量要求的网络时，这是一个关键组件，因为它必须一致且可靠地对事务进行排序，以便正确处理事务。共识层旨在处理有状态交易，并提供传统区块链的功能。Fleek网络根据需要运行有向非循环DAG（DAG）一致性，以定期检查其状态。共识层的目标是为有状态事务提供健壮可靠的排序机制，处理高吞吐量需求，并在保持一致性的同时尽可能快地处理事务。部分异步拜占庭容错（BFT）算法允许Fleek网络在保持一致性的同时快速处理事务。BFT算法确保系统始终收敛于单一结果，即使在发生故障或恶意行为的情况下也是如此。共识引擎使用以下组件：</p><ul><li>用于维护复制状态机的节点网络。</li><li>一组控制节点之间如何交互的规则。</li><li>排序事务的算法。</li></ul><p>节点网络维护一个复制的状态机，该状态机存储Fleek网络的所有数据。状态机是一个键值存储，其中每个键代表一个对象。每个节点都有该状态的副本，并且当任何节点进行更改时，它们会在整个网络中传播。管理节点之间如何交互的一组规则称为共识。在该系统中，节点相互通信，并在将状态更改提交到数据库之前就其达成一致。用于排序事务的算法是Bullshark加上独角鲸以实现高吞吐量的分布式系统。通过将数据分发与元数据排序分离，不再需要集中式消息代理或协调器来支持CDN的规模。</p><p><strong>网络的稳健性</strong></p><p><strong>拜占庭容错算法：</strong>BFT算法的工作原理是让系统中的每个参与者向所有其他参与者广播他们的建议值。如果大多数参与者同意相同的值，则该值将被接受为共识值。如果没有多数人同意，则重复该算法，直到达成共识。该算法的优点是它可以容忍多达F（少数被破坏的参与者）个故障节点，其中N个相同的节点分布在空间上，并且在F限制被破坏的子群的大小F&lt;（N/3）的模式下操作。该算法可以保证系统的安全性，因为没有单独的子群可以控制系统。总结网络的健壮性，该系统具有以下弹性：</p><ul><li>瞬时故障。</li><li>恶意故障。</li><li>拜占庭断层。</li><li>拜占庭将军进攻。</li><li>系统中的所有诚实节点将同意相同的值（共识）。</li><li>该系统可以容忍多达F个故障节点，并且仍然可以达成一致。</li></ul><p><strong>节点鲁棒性</strong>：缓存节点的健壮性将来自于治理和网络冗余。网络利用可用性采样来确保节点正在缓存数据。因此，节点可以将应用程序和相关内容分发到离用户更近的位置，从而显著减少开销和往返时间。因此，减少了主机带宽和源服务器必须提供的数据量。构建Fleek网络时考虑到了高可用性。这样，即使单个节点发生故障，它们也可以继续运行。</p><p><strong>网关节点鲁棒性</strong>：通过AWS ECS或Kubernetes的容器管理，使用多区域设置，它将高度可用。域将使用GeoDN和Anycast的组合映射到多个IP地址，这将用户定向到其区域内的网关节点，并在该区域内跨多个网关节点进行负载平衡。网关节点的健壮性依赖于经过验证的应用程序正常运行时间技术，如高可用性和多区域设置。</p><blockquote><em>参考链接：</em><a href=\"https://docs.fleek.co/\"><em>https://docs.fleek.co/</em></a></blockquote><h3>Ⅴ. Plonky2高效递归证明系统</h3><h4>简介</h4><p>Plonky2是Polygon zero（原Mir protocol）开源的基于 <strong>FRI 承诺</strong> 和 <strong>TurboPlonk证明 </strong>的高效递归零知识证明系统。TurboPlonk是 Plonk 的变种，通过引入Custom gate（定制门）、批量约束过滤等大幅改进了原生Plonk的性能，而FRI作为Stark体系下常用的多项式承诺方案，被Plonky2创造性地组合到了TurboPlonk证明系统中，以进一步缩减递归证明的生成及验证开销。</p><h4>核心模块</h4><p><strong>1、FRI 承诺</strong></p><p>FRI是一种多项式承诺（PC，polynomial commitment）方案。</p><ul><li>承诺（commitment）：绑定于原始消息的公开数据，由committer提供。committer打开承诺并发送数据给验证方，验证方根据接收的信息验证承诺和原始数据的绑定关系。</li><li>多项式承诺（polynomial commitment）：针对多项式P的PC，committer可通过一个proof证明多项式P在z处的值满足P(z)=a，而不揭露多项式P本身。</li></ul><p>Plonky2选用FRI承诺进行证明系统构建，有以下几点考量：</p><p><strong>1）FRI承诺舍弃大特征域，转向64位Goldilocks域编码witness，利用CPU处理64位数据高效的特性大幅缩减了proof的生成开销。</strong></p><p><strong>2）FRI承诺只涉及哈希运算，不依赖任何安全假设，天然具备抗量子特性。</strong></p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/648/0*_5xBs_GBTCJMoaiJ\" /></figure><p>使用FRI承诺构建PC方案的一般流程如下：</p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/0*LbKvUcqU9Oe9_a9m\" /></figure><p><strong>2、TurboPlonk证明</strong></p><p>TurboPlonk对原始的Plonk协议进行了多维度优化，具体如下：</p><p><strong>1）Custom gate</strong></p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/899/0*7vAygSMBdUO4tX50\" /></figure><p><strong>2）批量约束过滤</strong></p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/862/0*co5r2I9cCvXlNExJ\" /></figure><p><strong>3）累积处理</strong></p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/864/0*g8dLG-VMabze3bU6\" /></figure><p><strong>4）处理公共输入</strong></p><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/872/0*6yOMaQfyrFxb_egY\" /></figure><blockquote><em>版权须知：引用信息版权属于原媒体及作者。如未经鉴叔J Club同意，其他媒体、网站或个人不得转载本站文章，鉴叔J Club保留追究上述行为法律责任的权利。</em></blockquote><img src=\"https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=600b7ed0af66\" width=\"1\" height=\"1\" alt=\"\">","content:encodedSnippet":"【摘要】技术角度复盘Chainlink Staking完成代笔社区配额、BNB Chain L2方案Zecrey Legend测试网、Polygon Pos链完成「Parallel EVM」升级、Web3开发者平台Fleek完成2500万美元A轮融资、Plonky2高效递归证明系统。\n本期我们将会回顾：\nⅠ. Chainlink Staking v0.1已完成2250万枚LINK社区配额上限\nⅡ. BNB Chain L2方案Zecrey Legend第一阶段公开测试网上线\nⅢ. Polygon Pos链完成「Parallel EVM」升级，可将速度提高一倍\nⅣ. Web3开发者平台Fleek完成2500万美元A轮融资\nⅤ. Plonky2高效递归证明系统\nⅠ. Chainlink Staking v0.1已完成2250万枚LINK社区配额上限\n美国东部时间2022 年 12 月 6 日中午 12 点：Chainlink Staking (v0.1)测试版于在以太坊主网上线。美国东部时间2022 年 12 月 8 日中午 12 点：有上限的 v0.1 质押池向一般访问者开放。12 月 9 日，据官方消息，Chainlink 质押协议 v0.1 已达到 2250 万枚 LINK 社区配额上限。\nChainlink Staking简介\nStaking是Chainlink Economics 2.0的核心，旨在为 Chainlink 带来新的加密经济安全层，其中应用加密奖励和惩罚以帮助进一步激励网络的正常运行。Chainlink 质押的首要任务是让生态系统参与者（包括节点运营商和社区成员）能够通过质押的 LINK 代币支持他们来提高预言机服务的安全保障和用户保证。LINK 的质押反过来增强了节点在 Chainlink 网络中接收工作并赚取相应费用的能力。\nStaking 是为 DON (Decentralized Oracle Network)创建一个强大的加密经济安全模型，以最大限度地提高攻击成本，降低攻击风险。这对于扩展 DON 的安全性至关重要，因为它们越来越多地参与保护影响用户资金的高价值智能合约中的关键功能。为了实现更高水平的防篡改，Chainlink提出了Explicit Staking — — 一种正在开发中的高级加密经济系统，其中 Chainlink 节点将 LINK 代币锁定为抵押品，可以因恶意和不良行为而被削减。\n\nStaking v0.1合约代码分析\nERC677协议\n\n核心接口质押\n\n核心接口解除质押\n\n链上质押与预言机质押的差异\n在去中心化的预言机网络中质押旨在实现与在区块链中质押完全不同的目标。区块链中的交易验证是内部一致性的属性，而区块链上预言机报告的正确性是外部属性，即链下数据。\n\nChainlink 2.0的核心设计\nDON（Decentralized Oracle Network）\nDON(Decentralized Oracle Network)是Chainlink Economics 2.0的核心，DON由Oracle节点组成的委员会组成，这些节点合作完成特定工作或选择建立长期关系，以便为客户提供持久服务。Dons是以区块链不可知的方式设计的。它们承诺为应用程序开发人员提供强大而灵活的工具，以便在任何受支持的主链上为其智能合约创建链外支持。\n两种类型的功能实现了DON的功能：可执行文件和适配器。可执行文件是在DON上以分散的方式连续运行的程序。虽然它们不直接存储主链资产，但它们具有重要的优势，包括高性能和执行机密计算的能力。可执行文件在DON上自主运行并执行确定性操作。它们与将DON链接到外部资源的适配器一起工作，并且可以由可执行文件调用。正如我们为Dons设想的那样，适配器是当今ChainLink中外部适配器的泛化。虽然现有适配器通常仅从数据源获取数据，但是适配器可以双向操作；在DON中，它们可以另外利用DON节点的联合计算来实现附加特征，例如加密报告以供可执行文件进行隐私保护消费。\n\nDON是由ChainLink节点委员会维护的网络。它支持委员会为部署而选择的任意范围的Oracle功能。因此，DON作为一个强大的抽象层，为智能合约提供接口，以获得广泛的链外资源和DON内部高效而分散的链外计算资源。以Dons为基础，Economics 2.0 提出一些优秀的设计，下面重点介绍混合智能合约与DON事务执行框架。\n混合智能合约\n混合智能合约，提供一个强大的通用框架，通过将链上和链下计算资源安全地组合到我们所称的混合智能合约中，增强现有的智能合约功能。\n\nDON事务执行框架（DON-TEF）\nTEF( Transaction-Execution Framework)是一种用于构建和执行高性能混合智能合约SC的设计模式。根据混合智能合约背后的主要思想，TEF涉及将SC分解为两部分：（1）在TEF上下文中称为主链上的锚合约SCa，以及（2）称为TEF可执行文件的Don Logic Exect。在这里使用SC来表示由SCa和EXECt的组合实现的逻辑契约。（如上所述，希望开发编译器工具来将合同SC自动分解为这些组件。）\n\n参考链接：https://chain.link/whitepaper\nⅡ. BNB Chain L2方案Zecrey Legend第一阶段公开测试网上线\n北京时间 12 月 3 日 21:00 ，基于 BNB Chain 的二层扩容方案 Zecrey Legend 上线公开测试网。该测试网包含多个阶段，目前已上线的第一阶段产品为 Android 应用，包括了多链资产管理，以及基于 ZK Rollup 的 Layer 2 NFT 市场等功能。\nZecrey 简介\nZecrey 是一种基于 zk-Rollup 的第 2 层协议，具有隐私性和可扩展性。从产品的角度来看，Zecrey 提供了一个包含 L1s 和 Zecrey 原生 L2s 的用户友好型钱包。我们的钱包中嵌入了两种不同类型的第 2 层系统，即Zecrey Zero和Zecrey Legend 。Zecrey Zero主要关注隐私功能，Zecrey Legend 主要关注 NFT 发行和 NFT 市场。\nZecrey Zero\nZecrey Zero是一种轻量级、隐私驱动的便携式支付解决方案，它为用户提供了一个简单直观的界面，使用户能够轻松进行私人转账和掉期交易。对于Zecrey Zero，用户启用隐私功能，用户可以在其中进行私人转账和私人交换交易，交易的金额会被隐藏，只有用户自己知道。\nZecrey Legend\nZecrey Legend 是第一个基于 BNB 链和 Web3 游戏 NFT 引擎的 zkRollup L2 扩容方案。它为铸造和交易 NFT 提供即时交易、巨大的可扩展性和低 gas 费用，而不会影响安全性。Zecrey Legend，它可以被视为 Layer 2 上的 NFT 市场，这是 BNB 链上第一个基于 zkRollup 的 Layer 2 解决方案。\nZecrey 架构\nZecrey 提供自下而上的完整定制架构。该架构的底层将是基于 zkRollup 的基础设施层。而上层会有SDK/API提供相关的开发组件。顶层将由各种应用程序组成，包括支付和 NFT 市场产品。而最外层会提供面向C端用户的产品，以及插件和手机版的多链钱包。\n\n参考链接：https://docsend.com/view/ntcsmt7meu84gcqk\nⅢ. Polygon Pos链完成「Parallel EVM」升级，可将速度提高一倍\n12 月 6 日，Polygon 团队近期发文表示，Polygon Pos 链完成「并行 EVM」（Parallel EVM）升级，将使 Polygon PoS 链的速度提高一倍，该升级受到 Aptos Labs 开发 Block-STM 引擎的启发，用 Go 语言为 Polygon PoS 链的 EVM 部署并行引擎。升级后 Polygon PoS 链能够同时处理多项交易，可提高其吞吐量，扩展交易处理速度。\nBlock-STM引擎简介\nBlock-STM解决的问题：区块链的交易之间存在依赖关系导致无法并发执行，并且在交易执行前无法快速判断依赖关系，因为与合约交互的交易存在复杂的交互逻辑（例如：合约A的某个方法调用了合约B的方法，对账户C进行了特定操作）。\nBlock-STM的核心思路:是检测存储访问以检测和管理冲突。具有乐观并发控制的 STM 库在执行期间记录内存访问，验证每个事务执行后并在验证出现冲突时中止并重新执行事务。\nBlock-STM的流程示例：\n\nBlock-STM 核心技术点\n\n乐观的并发控制：事务以乐观的方式并行执行，并在执行后进行验证。不成功的验证会导致重新执行。由于预设的顺序，验证不是相互独立的，并且必须在逻辑上按顺序发生。与之前的工作不同，成功的验证并不意味着可以提交事务。相反，交易验证失败意味着所有更高级别的交易只有在之后成功验证后才能提交。\n多版本数据结构： Block-STM使用多版本数据结构来避免写入冲突。所有对同一位置的写入都与它们的版本一起存储，其中包含它们的事务 ID 和写入事务被乐观地重新执行的次数。当事务tx读取内存位置时，它从多版本数据结构中获取按照预设顺序出现在tx之前的最高事务写入该位置的值，以及关联的版本。\n验证：在执行期间，事务记录一个读集和一个写集。在验证期间，读取集中的所有内存位置都被读取，并将返回的version与存储在读取集中的相应version进行比较。\n合作日程：Block-STM 引入了协作调度程序来协调线程之间的验证和执行任务。由于预设顺序规定事务必须按顺序提交，事务执行的成功验证并不能保证它可以提交。这是因为块中早期事务的中止和重新执行可能会使读取集无效并需要重新执行。因此，事务和执行线程之间的静态映射不起作用。相反，协作调度程序优先处理较低事务的执行和验证任务。然而，众所周知，有序集和优先级队列在多核环境中难以扩展。Block-STM 使用基于计数的方法回避了这个问题，\n动态依赖估计： Block-STM 利用预设顺序来显着避免中止，这是 STM 系统性能游戏的名称，因为中止会级联并导致过多的工作浪费。当验证失败时，事务最后一次执行的写入集用于通过将其在多版本数据结构中的所有写入标记为估计来估计依赖关系。当另一个事务从多值数据结构中读取一个 ESTIMATION 值时，它可以等待解决依赖关系 — — 如果没有估计，它会继续但很可能（如果写入 ESTIMATION 的事务确实写入相同的下一次重新执行中的位置）稍后验证失败并被中止\n\nParallel EVM与Block-STM的差异\n\n参考链接：https://arxiv.org/pdf/2203.06871.pdf\nⅣ. Web3开发者平台Fleek完成2500万美元A轮融资\n12 月 1 日，Web3 开发者平台 Fleek 完成 2500 万美元 A 轮融资，Polychain Capital 领投，Coinbase Ventures、Digital Currency Group、Protocol Labs、Arweave、North Island Ventures、Distributed Global、The LAO 和 Argonautic Ventures 等参投。Fleek 的目标是建立一个接口和协议层，使任何人都可以访问 Web3 服务的基础层，并调用如存储、托管和计费等功能。Fleek 目前在其平台上托管了大约 50000 个应用程序，主要集中在以太坊生态。\nFleek 的 IC网关\nIPFS作为去中心化存储网络，存在一些缺点：访问速度慢，节点不稳当、访问操作复杂 ，Fleek的IC网关提供了一种比本地解决方案更快、更高效的方式来访问浏览器上 IPFS 上的内容；就互联网计算机而言，它是DFINITY 基金会主要互联网计算机网关的开源替代方案，任何人都可以利用。\n\nFleek NetWork白皮书浅析\nCDN因其提供内容的低延迟和高传输速度而备受欢迎。传统方法通常涉及基于基础架构的交付，其中用户从第三方服务器请求其内容。这些CDN传统上是许可的、基于信任的，并受到可以审查或限制内容的主导方的控制。这与使Web 3应用程序去中心化和端到端不兼容，Web 3应用程序依赖Web 2基础设施向Web 3.0用户提供服务。鉴于去中心化存储已成为现实，我们认为去中心化内容交付网络是缺失的基础设施链接，也是将所有必要组件连接在一起以实现完全去中心化Web 3.0应用程序目标的一层。本文给出了Fleek网络的技术展望，Fleek网络是一种用于Web3.0的P2P内容分发模型。它们使用经过验证的区块链基础设施和P2P协议构建，并针对内容交付进行了专门的增强。\n传统CDN与Fleek NetWork网络top对比\n\n网络综述\n\n缓存节点\n\n网关节点\n虽然Fleek网络具有用于缓存、索引和复制的主节点。Fleek实现了一个传统网关将域映射到Fleek网络上的特定内容哈希。网关节点是为了最终用户可以指向他们的域，执行Web 服务器的基本功能，并充当外部客户端（如浏览器和移动应用程序）和网络之间的通信点。\n\n网络的共识\nFleek使用基础共识引擎对交易进行排序。在构建具有高吞吐量要求的网络时，这是一个关键组件，因为它必须一致且可靠地对事务进行排序，以便正确处理事务。共识层旨在处理有状态交易，并提供传统区块链的功能。Fleek网络根据需要运行有向非循环DAG（DAG）一致性，以定期检查其状态。共识层的目标是为有状态事务提供健壮可靠的排序机制，处理高吞吐量需求，并在保持一致性的同时尽可能快地处理事务。部分异步拜占庭容错（BFT）算法允许Fleek网络在保持一致性的同时快速处理事务。BFT算法确保系统始终收敛于单一结果，即使在发生故障或恶意行为的情况下也是如此。共识引擎使用以下组件：\n\n用于维护复制状态机的节点网络。\n一组控制节点之间如何交互的规则。\n排序事务的算法。\n\n节点网络维护一个复制的状态机，该状态机存储Fleek网络的所有数据。状态机是一个键值存储，其中每个键代表一个对象。每个节点都有该状态的副本，并且当任何节点进行更改时，它们会在整个网络中传播。管理节点之间如何交互的一组规则称为共识。在该系统中，节点相互通信，并在将状态更改提交到数据库之前就其达成一致。用于排序事务的算法是Bullshark加上独角鲸以实现高吞吐量的分布式系统。通过将数据分发与元数据排序分离，不再需要集中式消息代理或协调器来支持CDN的规模。\n网络的稳健性\n拜占庭容错算法：BFT算法的工作原理是让系统中的每个参与者向所有其他参与者广播他们的建议值。如果大多数参与者同意相同的值，则该值将被接受为共识值。如果没有多数人同意，则重复该算法，直到达成共识。该算法的优点是它可以容忍多达F（少数被破坏的参与者）个故障节点，其中N个相同的节点分布在空间上，并且在F限制被破坏的子群的大小F<（N/3）的模式下操作。该算法可以保证系统的安全性，因为没有单独的子群可以控制系统。总结网络的健壮性，该系统具有以下弹性：\n\n瞬时故障。\n恶意故障。\n拜占庭断层。\n拜占庭将军进攻。\n系统中的所有诚实节点将同意相同的值（共识）。\n该系统可以容忍多达F个故障节点，并且仍然可以达成一致。\n\n节点鲁棒性：缓存节点的健壮性将来自于治理和网络冗余。网络利用可用性采样来确保节点正在缓存数据。因此，节点可以将应用程序和相关内容分发到离用户更近的位置，从而显著减少开销和往返时间。因此，减少了主机带宽和源服务器必须提供的数据量。构建Fleek网络时考虑到了高可用性。这样，即使单个节点发生故障，它们也可以继续运行。\n网关节点鲁棒性：通过AWS ECS或Kubernetes的容器管理，使用多区域设置，它将高度可用。域将使用GeoDN和Anycast的组合映射到多个IP地址，这将用户定向到其区域内的网关节点，并在该区域内跨多个网关节点进行负载平衡。网关节点的健壮性依赖于经过验证的应用程序正常运行时间技术，如高可用性和多区域设置。\n参考链接：https://docs.fleek.co/\nⅤ. Plonky2高效递归证明系统\n简介\nPlonky2是Polygon zero（原Mir protocol）开源的基于 FRI 承诺 和 TurboPlonk证明 的高效递归零知识证明系统。TurboPlonk是 Plonk 的变种，通过引入Custom gate（定制门）、批量约束过滤等大幅改进了原生Plonk的性能，而FRI作为Stark体系下常用的多项式承诺方案，被Plonky2创造性地组合到了TurboPlonk证明系统中，以进一步缩减递归证明的生成及验证开销。\n核心模块\n1、FRI 承诺\nFRI是一种多项式承诺（PC，polynomial commitment）方案。\n\n承诺（commitment）：绑定于原始消息的公开数据，由committer提供。committer打开承诺并发送数据给验证方，验证方根据接收的信息验证承诺和原始数据的绑定关系。\n多项式承诺（polynomial commitment）：针对多项式P的PC，committer可通过一个proof证明多项式P在z处的值满足P(z)=a，而不揭露多项式P本身。\n\nPlonky2选用FRI承诺进行证明系统构建，有以下几点考量：\n1）FRI承诺舍弃大特征域，转向64位Goldilocks域编码witness，利用CPU处理64位数据高效的特性大幅缩减了proof的生成开销。\n2）FRI承诺只涉及哈希运算，不依赖任何安全假设，天然具备抗量子特性。\n\n使用FRI承诺构建PC方案的一般流程如下：\n\n2、TurboPlonk证明\nTurboPlonk对原始的Plonk协议进行了多维度优化，具体如下：\n1）Custom gate\n\n2）批量约束过滤\n\n3）累积处理\n\n4）处理公共输入\n\n版权须知：引用信息版权属于原媒体及作者。如未经鉴叔J Club同意，其他媒体、网站或个人不得转载本站文章，鉴叔J Club保留追究上述行为法律责任的权利。","dc:creator":"鉴叔","guid":"https://medium.com/p/600b7ed0af66","isoDate":"2022-12-21T09:05:33.000Z","from":"https://medium.com/feed/@jianshubiji","hashId":"da64fb0cac54d835451b975bbf6c5283"}]